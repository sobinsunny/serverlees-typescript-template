{"version":3,"sources":["../../src/login/openBrowser.js"],"names":["module","exports","openBrowser","url","browser","process","env","BROWSER","includes","platform","DISPLAY","console","log","chalk","green","yellow","undefined","options","wait","app","catch"],"mappings":";;AAEA;;;;AACA;;;;AACA;;;;;;AAEAA,OAAOC,OAAP,GAAiB,SAASC,WAAT,CAAqBC,GAArB,EAA0B;AACzC,MAAIC,UAAUC,QAAQC,GAAR,CAAYC,OAA1B;AACA,MACEH,YAAY,MAAZ,IACA,yBADA,IAEC,CAAC,QAAD,EAAW,OAAX,EAAoBI,QAApB,CAA6BH,QAAQI,QAArC,KAAkD,CAACJ,QAAQC,GAAR,CAAYI,OAHlE,EAIE;AACAC,YAAQC,GAAR,CAAYC,gBAAMC,KAAN,CAAY,yDAAZ,CAAZ;AACAH,YAAQC,GAAR,CAAYC,gBAAME,MAAN,CAAaZ,GAAb,CAAZ;AACA,WAAO,KAAP;AACD;AACD,MAAIE,QAAQI,QAAR,KAAqB,QAArB,IAAiCL,YAAY,MAAjD,EAAyD;AACvDA,cAAUY,SAAV;AACD;AACDL,UAAQC,GAAR,CACEC,gBAAMC,KAAN,CACE,8FADF,CADF;AAKAH,UAAQC,GAAR,CAAYC,gBAAME,MAAN,CAAaZ,GAAb,CAAZ;AACA,MAAMc,UAAU,EAAEC,MAAM,KAAR,EAAeC,KAAKf,OAApB,EAAhB;AACA,SAAO,mBAAID,GAAJ,EAASc,OAAT,EAAkBG,KAAlB,CAAwB;AAAA,WAAM,KAAN;AAAA,GAAxB,CAAP;AACD,CAtBD,C,CANA","file":"openBrowser.js","sourcesContent":["/* eslint-disable no-console */\n\nimport opn from 'opn'\nimport chalk from 'chalk'\nimport isDockerContainer from 'is-docker'\n\nmodule.exports = function openBrowser(url) {\n  let browser = process.env.BROWSER\n  if (\n    browser === 'none' ||\n    isDockerContainer() ||\n    (['darwin', 'linux'].includes(process.platform) && !process.env.DISPLAY)\n  ) {\n    console.log(chalk.green('Please open your browser & open the URL below to login:'))\n    console.log(chalk.yellow(url))\n    return false\n  }\n  if (process.platform === 'darwin' && browser === 'open') {\n    browser = undefined\n  }\n  console.log(\n    chalk.green(\n      'If your browser does not open automatically, please open it &  open the URL below to log in:'\n    )\n  )\n  console.log(chalk.yellow(url))\n  const options = { wait: false, app: browser }\n  return opn(url, options).catch(() => false)\n}\n"]}