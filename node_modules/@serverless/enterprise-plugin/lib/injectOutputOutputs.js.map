{"version":3,"sources":["../../lib/injectOutputOutputs.js"],"names":["require","entries","module","exports","ctx","sls","service","outputs","outputKey","outputValue","outputValueKeys","Object","keys","includes","some","key","startsWith","provider","compiledCloudFormationTemplate","Outputs","Description","Value"],"mappings":"AAAA;;;;;;;;;;;;;;iBAEoBA,OAAO,CAAC,QAAD,C;MAAnBC,O,YAAAA,O;;AAERC,MAAM,CAACC,OAAP;AAAA;AAAA;AAAA,+BAAiB,WAAeC,GAAf,EAAoB;AAAA;AAAA;AAAA;;AAAA;AACnC,2BAAuCH,OAAO,CAACG,GAAG,CAACC,GAAJ,CAAQC,OAAR,CAAgBC,OAAhB,IAA2B,EAA5B,CAA9C,8HAA+E;AAAA;AAAA,cAAnEC,SAAmE;AAAA,cAAxDC,WAAwD;;AAC7E,YAAI,OAAOA,WAAP,KAAuB,QAA3B,EAAqC;AACnC,gBAAMC,eAAe,GAAGC,MAAM,CAACC,IAAP,CAAYH,WAAZ,CAAxB;;AACA,cAAIC,eAAe,CAACG,QAAhB,CAAyB,KAAzB,KAAmCH,eAAe,CAACI,IAAhB,CAAqBC,GAAG,IAAIA,GAAG,CAACC,UAAJ,CAAe,MAAf,CAA5B,CAAvC,EAA4F;AAC1FZ,YAAAA,GAAG,CAACC,GAAJ,CAAQC,OAAR,CAAgBW,QAAhB,CAAyBC,8BAAzB,CAAwDC,OAAxD,CAAiE,YAAWX,SAAU,EAAtF,IAA2F;AACzFY,cAAAA,WAAW,EAAG,eAAcZ,SAAU,GADmD;AAEzFa,cAAAA,KAAK,EAAEZ;AAFkF,aAA3F;AAIAL,YAAAA,GAAG,CAACC,GAAJ,CAAQC,OAAR,CAAgBC,OAAhB,CAAwBC,SAAxB,IAAsC,iBAAgBA,SAAU,EAAhE;AACD;AACF;AACF;AAZkC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAapC,GAbD;;AAAA;AAAA;AAAA;AAAA","sourcesContent":["'use strict';\n\nconst { entries } = require('lodash');\n\nmodule.exports = async function(ctx) {\n  for (const [outputKey, outputValue] of entries(ctx.sls.service.outputs || {})) {\n    if (typeof outputValue === 'object') {\n      const outputValueKeys = Object.keys(outputValue);\n      if (outputValueKeys.includes('Ref') || outputValueKeys.some(key => key.startsWith('Fn::'))) {\n        ctx.sls.service.provider.compiledCloudFormationTemplate.Outputs[`SFEOutput${outputKey}`] = {\n          Description: `SFE output \"${outputKey}\"`,\n          Value: outputValue,\n        };\n        ctx.sls.service.outputs[outputKey] = `CFN!?SFEOutput${outputKey}`;\n      }\n    }\n  }\n};\n"],"file":"injectOutputOutputs.js"}